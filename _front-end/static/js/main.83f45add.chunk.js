(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{146:function(e,t,a){e.exports=a(321)},151:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},200:function(e,t){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),s=a.n(i);a(151),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(5),c=a.n(o),l=a(10),u=a(8),m=a(14),d=a(18),p=a(17),f=(a(153),a(20)),h=a(15),v=(a(154),function e(t,a,n,r,i,s){Object(u.a)(this,e),this.userId=t,this.userName=a,this.passWord=n,this.firstName=r,this.lastName=i,this.isAdmin=s}),g=function e(t,a){Object(u.a)(this,e),this.userId=t,this.vacationId=a},E=a(347),b=a(354),y=a(350),w=a(352),x=a(351),k=a(355),I=a(356),j=a(16),V=a.n(j),O=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,null,[{key:"_initialize",value:function(){e.serverUrl="https://skysurf.herokuapp.com"}}]),e}();O.serverUrl=void 0,O._initialize();var N=a(25),D=a.n(N),C=a(42),S=a.n(C),A=S()(O.serverUrl),T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getVacations=Object(l.a)(c.a.mark((function e(){var t,a,r,i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.serverUrl,e.next=4,V.a.get("".concat(t,"/api/vacations/getPickedVacations/").concat(n.state.userInfo.userId));case 4:return a=e.sent,r=a.data,n.setState({pickedVacations:r}),i=n.state.pickedVacations.map((function(e){return e.vacationId})),e.next=10,V.a.post("".concat(t,"/api/vacations/getUnPickedVacations"),{data:{userId:n.state.userInfo.userId,pickedVacations:i}});case 10:s=e.sent,o=s.data,n.setState({unPickedVacations:o}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),n.followVacation=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({pickedVacation:t,disappear:"disappear"}),a=O.serverUrl,e.next=5,V.a.post("".concat(a,"/api/vacations/followVacation"),{data:{userId:n.state.userInfo.userId,vacationId:t}});case 5:return e.next=7,n.getVacations();case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),403!==e.t0.response.status){e.next=14;break}return D.a.fire({title:"Error!",text:"Admin Cannot Follow vacations, please switch to a regular account",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n.unFollowVacation=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({pickedVacation:t,disappear:"disappear"}),a=O.serverUrl,e.next=5,V.a.delete("".concat(a,"/api/vacations/unfollowVacation"),{data:{vacationId:t,userId:n.state.userInfo.userId}});case 5:return e.next=7,n.getVacations();case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),403!==e.t0.response.status){e.next=14;break}return D.a.fire({title:"Error!",text:"Admin Cannot unFollow vacations, please switch to a regular account",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n.openModel=function(e){n.setState({modalOpen:!0,modalVacation:e})},n.closeModel=function(){n.setState({modalOpen:!1})},n.searchVacation=function(e){var t=e.target.value;n.setState({search:t});var a=n.state.pickedVacations.concat(n.state.unPickedVacations).filter((function(e){return e.destination.includes(t)}));n.setState({searchResults:a})},n.state={userInfo:new v,pickedVacations:[],unPickedVacations:[],enableText:!1,usersVsVacations:new g,pickedVacation:null,disappear:"",search:"",searchResults:[],modalOpen:!1,modalVacation:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.enableMenu(),document.body.style.backgroundImage="url('/assets/home-wallpaper.jpg')",setTimeout((function(){a.setState({enableText:!0})}),2e3),e.next=5,this.props.isUserLogged();case 5:return t=e.sent,this.setState({userInfo:t}),e.next=9,this.getVacations();case 9:A.on("admin-change",(function(e){var t=a.state.pickedVacations.map((function(t){return e.filter((function(e){return e.vacationId===t.vacationId}))})),n=[];for(var r in t)0!==t[r].length&&(n.push(t[r][0]),a.setState({pickedVacations:n}));var i=a.state.unPickedVacations.map((function(t){return e.filter((function(e){return e.vacationId===t.vacationId}))})),s=[];for(var o in i){if(0===i[o].length)return;s.push(i[o][0]),a.setState({unPickedVacations:s})}}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){document.body.style.backgroundImage="linear-gradient(0deg, rgba(216, 95, 166, 0.308), rgba(255, 189, 103, 0.466)), url('/assets/login-wallpaper.jpg')"}},{key:"render",value:function(){var e=this;return!1===this.state.userInfo?r.a.createElement(h.a,{to:"/"}):this.state.enableText?r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{container:!0,className:"vacationSearchBar"},r.a.createElement(E.a,{container:!0,alignItems:"flex-start",justify:"flex-end",direction:"row"},r.a.createElement(b.a,{mr:5},r.a.createElement(y.a,{component:"h1",variant:"h5"},"- Search Vacation -"))),r.a.createElement(E.a,{container:!0,alignItems:"flex-start",justify:"flex-end",direction:"row"},r.a.createElement(b.a,{mr:5},r.a.createElement(w.a,{onChange:this.searchVacation,value:this.state.search||"",label:"Search Vacation"})))),r.a.createElement(b.a,{mb:2,ml:2},r.a.createElement(E.a,{container:!0,alignItems:"flex-start",justify:"flex-start",direction:"row"},r.a.createElement(y.a,{component:"h1",variant:"h6"},"Welcome - ","".concat(this.state.userInfo.firstName)))),r.a.createElement(E.a,{container:!0,alignItems:"flex-start",justify:"flex-start",direction:"row",style:{minHeight:"50vh"}},0===this.state.search.length?r.a.createElement(E.a,{container:!0},r.a.createElement(b.a,{ml:4,mb:2},r.a.createElement(y.a,{component:"h1",variant:"h4"},"Vacations You Follow!")),r.a.createElement(E.a,{item:!0,container:!0,style:{minHeight:"40vh"}},this.state.pickedVacations.map((function(t){return r.a.createElement(E.a,{item:!0,container:!0,xs:12,sm:4,justify:"center",className:"vacationContainer ".concat(e.state.pickedVacation===t.vacationId?e.state.disappear:""),key:t.vacationId},r.a.createElement(x.a,{className:"vacationContainerBackground",style:{background:' linear-gradient(0deg, rgba(216, 95, 166, 0.341), rgba(255, 189, 103, 0.150)), url("'.concat(O.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(b.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(y.a,{gutterBottom:!0,variant:"h4",className:"destH4"},t.destination))),r.a.createElement(b.a,{mr:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement("span",{className:"unFollow",onClick:function(){e.unFollowVacation(t.vacationId)}}))),r.a.createElement(b.a,{display:"flex"},r.a.createElement(E.a,{item:!0,xs:9,className:"vacationDescription",container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(x.a,{className:"descContainer"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},t.description))),r.a.createElement(E.a,{item:!0,xs:3,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement("div",{style:{textAlign:"center"},className:"followerBackground"},r.a.createElement("p",null,"Number Of Followers"),r.a.createElement(y.a,{style:{textAlign:"center"}},t.numberOfFollowers)))),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",style:{textAlign:"center"}},"Dates",r.a.createElement("br",null)," - From ",t.startDate," - To ",t.endDate," -")),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},"Now for Just - ",t.price," $ per Person!")),r.a.createElement(b.a,null,r.a.createElement(k.a,{className:"mobileDetail",variant:"contained",onClick:function(){e.openModel(t.vacationId)}},"Vacation Information"))),r.a.createElement(I.a,{open:e.state.modalOpen,onClose:e.closeModel,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(b.a,{mt:10,style:{marginLeft:"10px",marginRight:"10px"}},e.state.pickedVacations.filter((function(t){return t.vacationId===e.state.modalVacation})).map((function(e){return r.a.createElement(x.a,{className:"modelWindow",key:e.vacationId,style:{background:' linear-gradient(0deg, rgba(216, 95, 166, 0.141), rgba(255, 189, 103, 0.138)), url("'.concat(O.serverUrl,"/uploads/").concat(e.vacationImg,'")')}},r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,e.destination)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,e.description)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,"From - ",e.startDate," To - ",e.endDate)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,"Only for ",e.price,"$ per person")))})))))}))),r.a.createElement(b.a,{m:4},r.a.createElement(y.a,{component:"h1",variant:"h4"},"Our Selection Of New Offers for you!")),r.a.createElement(E.a,{container:!0,style:{minHeight:"40vh"}},this.state.unPickedVacations.map((function(t){return r.a.createElement(E.a,{item:!0,container:!0,xs:12,sm:4,justify:"center",className:"vacationContainer appear ".concat(e.state.pickedVacation===t.vacationId&&""!==e.state.disappear?e.state.disappear:""),key:t.vacationId},r.a.createElement(x.a,{className:"vacationContainerBackground",style:{background:' linear-gradient(0deg, rgba(216, 95, 166, 0.141), rgba(255, 189, 103, 0.138)), url("'.concat(O.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(b.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(y.a,{gutterBottom:!0,variant:"h4",className:"destH4"},t.destination))),r.a.createElement(b.a,{mr:2,display:"inline"},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement("span",{className:"follow",onClick:function(){e.followVacation(t.vacationId)}}))),r.a.createElement(b.a,{display:"flex"},r.a.createElement(E.a,{container:!0,item:!0,className:"vacationDescription",xs:9,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(x.a,{className:"descContainer"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},t.description))),r.a.createElement(E.a,{item:!0,container:!0,xs:3,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement("div",{style:{textAlign:"center"},className:"followerBackground"},r.a.createElement(y.a,null,"Number Of Followers"),r.a.createElement(y.a,{style:{textAlign:"center"}},t.numberOfFollowers)))),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",style:{textAlign:"center"}},"Dates",r.a.createElement("br",null)," - From ",t.startDate," - To ",t.endDate," -")),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},"Now for Just - ",t.price," $ per Person!")),r.a.createElement(b.a,null,r.a.createElement(k.a,{className:"mobileDetail",variant:"contained",color:"primary",onClick:function(){e.openModel(t.vacationId)}},"Vacation Information"))),r.a.createElement(I.a,{open:e.state.modalOpen,onClose:e.closeModel,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(b.a,{mt:10,style:{marginLeft:"10px",marginRight:"10px"}},e.state.unPickedVacations.filter((function(t){return t.vacationId===e.state.modalVacation})).map((function(e){return r.a.createElement(x.a,{className:"modelWindow",key:e.vacationId,style:{background:' linear-gradient(0deg, rgba(216, 95, 166, 0.141), rgba(255, 189, 103, 0.138)), url("'.concat(O.serverUrl,"/uploads/").concat(e.vacationImg,'")')}},r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,e.destination)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,e.description)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,"From - ",e.startDate," To - ",e.endDate)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,"Only for ",e.price,"$ per person")))})))))})))):r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{container:!0,style:{minHeight:"40vh"}},this.state.searchResults.map((function(t){return r.a.createElement(E.a,{item:!0,container:!0,xs:12,sm:4,justify:"center",className:"vacationContainer appear ".concat(e.state.pickedVacation===t.vacationId&&""!==e.state.disappear?e.state.disappear:""),key:t.vacationId},r.a.createElement(x.a,{className:"vacationContainerBackground",style:{background:' linear-gradient(0deg, rgba(216, 95, 166, 0.141), rgba(255, 189, 103, 0.138)), url("'.concat(O.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(b.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(y.a,{gutterBottom:!0,variant:"h4",className:"destH4"},t.destination))),r.a.createElement(b.a,{mr:2,display:"inline"},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement("span",{className:"follow",onClick:function(){e.followVacation(t.vacationId)}}))),r.a.createElement(b.a,{display:"flex"},r.a.createElement(E.a,{container:!0,item:!0,className:"vacationDescription",xs:9,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(x.a,{className:"descContainer"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},t.description))),r.a.createElement(E.a,{item:!0,container:!0,xs:3,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement("div",{style:{textAlign:"center"},className:"followerBackground"},r.a.createElement(y.a,null,"Number Of Followers"),r.a.createElement(y.a,{style:{textAlign:"center"}},t.numberOfFollowers)))),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",style:{textAlign:"center"}},"Dates",r.a.createElement("br",null)," - From ",t.startDate," - To ",t.endDate," -")),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},"Now for Just - ",t.price," $ per Person!")),r.a.createElement(b.a,null,r.a.createElement(k.a,{className:"mobileDetail",variant:"contained",color:"primary",onClick:function(){e.openModel(t.vacationId)}},"Vacation Information"))),r.a.createElement(I.a,{open:e.state.modalOpen,onClose:e.closeModel,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(b.a,{mt:10,style:{marginLeft:"10px",marginRight:"10px"}},e.state.searchResults.filter((function(t){return t.vacationId===e.state.modalVacation})).map((function(e){return r.a.createElement(x.a,{className:"modelWindow",key:e.vacationId,style:{background:' linear-gradient(0deg, rgba(216, 95, 166, 0.141), rgba(255, 189, 103, 0.138)), url("'.concat(O.serverUrl,"/uploads/").concat(e.vacationImg,'")')}},r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,e.destination)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,e.description)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,"From - ",e.startDate," To - ",e.endDate)),r.a.createElement(E.a,{container:!0},r.a.createElement(y.a,null,"Only for ",e.price,"$ per person")))})))))})))))):r.a.createElement("div",{className:"loadingGif"})}}]),a}(n.Component),F=a(7),U=(a(207),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setUserName=function(e){var t=e.target.value,a=Object(F.a)({},n.state.users);a.userName=t,n.setState({users:a})},n.setPassWord=function(e){var t=e.target.value,a=Object(F.a)({},n.state.users);a.passWord=t,n.setState({users:a})},n.logIn=Object(l.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.serverUrl,e.next=4,V.a.post("".concat(t,"/api/login"),n.state.users);case 4:a=e.sent,r=a.data,D.a.fire({title:"Success!",text:"Welcome ".concat(r.userName," Press Below To enter the site!"),icon:"success",confirmButtonText:"O.K"}),n.props.history.push("/home"),e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(0),401!==e.t0.response.status){e.next=15;break}return D.a.fire({title:"Error!",text:"Wrong Username Or Password",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.state={users:new v},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.enableMenu()}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"60vh"}},r.a.createElement(b.a,{m:2},r.a.createElement(y.a,{component:"h1",variant:"h4"},"Login!")),r.a.createElement("form",{className:"logInForm",id:"login",onSubmit:function(t){return t.preventDefault(),e.logIn()}},r.a.createElement(E.a,{container:!0,direction:"row",spacing:5},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(w.a,{onChange:this.setUserName,autoComplete:"username",type:"text",value:this.state.users.userName||"",error:""===this.state.users.userName,helperText:""===this.state.users.userName?"Empty field!":" ",name:"firstName",variant:"outlined",fullWidth:!0,id:"userName",label:"User Name",autoFocus:!0,required:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(w.a,{onChange:this.setPassWord,autoComplete:"current-password",value:this.state.users.passWord||"",error:""===this.state.users.passWord,helperText:""===this.state.users.passWord?"Empty field!":" ",name:"passWord",variant:"outlined",fullWidth:!0,id:"passWord",type:"password",label:"Password",required:!0})),r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(k.a,{variant:"contained",color:"primary",type:"submit"},"Log In!")))),r.a.createElement(b.a,{m:10},r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(k.a,{color:"default",to:"/register",component:f.b,size:"large",className:"signupButt"},"New To Our Site? Press here to join and find your destination today!"))))}}]),a}(n.Component)),W=(a(208),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setUserName=function(e){var t=e.target.value,a="",r=Object(F.a)({},n.state.users),i=Object(F.a)({},n.state.errors);""===t&&(a="*"),t.length<3&&(a="*"),/[^a-zA-Z0-9\-\/]/.test(t)&&(a="*"),r.userName=t,i.usernameError=a,n.setState({users:r,errors:i})},n.setPassWord=function(e){var t=e.target.value,a="",r=Object(F.a)({},n.state.users),i=Object(F.a)({},n.state.errors);""===t&&(a="*"),t===n.state.users.userName&&(a="*"),t.length<5&&(a="*"),/[^a-zA-Z0-9\-\/]/.test(t)&&(a="*"),i.passwordError=a,r.passWord=t,n.setState({users:r,errors:i})},n.setCheckPassWord=function(e){var t=e.target.value,a="",r=Object(F.a)({},n.state.errors);t!==n.state.users.passWord&&(a="*"),r.checkedPassError=a,n.setState({errors:r,checkPassword:t})},n.setFirstName=function(e){var t=e.target.value,a="",r=Object(F.a)({},n.state.users),i=Object(F.a)({},n.state.errors);""===t&&(a="*"),/[^a-zA-Z0-9\-\/]/.test(t)&&(a="*"),/\d/.test(t)&&(a="*"),i.firstNameError=a,r.firstName=t,n.setState({users:r,errors:i})},n.setLastName=function(e){var t=e.target.value,a="",r=Object(F.a)({},n.state.users),i=Object(F.a)({},n.state.errors);""===t&&(a="*"),/[^a-zA-Z0-9\-\/]/.test(t)&&(a="*"),/\d/.test(t)&&(a="*"),i.lastNameError=a,r.lastName=t,n.setState({users:r,errors:i})},n.isLegal=function(){return""===n.state.errors.usernameError&&""===n.state.errors.passwordError&&""===n.state.errors.lastNameError&&""===n.state.errors.firstNameError&&""===n.state.errors.checkedPassError},n.signUp=Object(l.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.isLegal()){e.next=4;break}return D.a.fire({title:"Error!",text:"Please fix the form Errors!",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 4:return t=O.serverUrl,e.next=7,V.a.post("".concat(t,"/api/register"),n.state.users);case 7:a=e.sent,r=a.data,D.a.fire({title:"Success!",text:"Welcome ".concat(r.firstName," Press Below To enter the site!"),icon:"success",confirmButtonText:"O.K"}),n.props.history.push("/home"),e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(0),401!==e.t0.response.status){e.next=18;break}return D.a.fire({title:"Error!",text:"Seems Like That Name is already taken :( \n                            Try Another One!",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.state={users:new v,errors:{usernameError:"*",passwordError:"*",firstNameError:"*",lastNameError:"*",checkedPassError:"*"},checkPassword:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.enableMenu()}},{key:"render",value:function(){var e,t,a,n,i,s,o,c=this;return r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"60vh",zIndex:10}},r.a.createElement(b.a,{m:2},r.a.createElement(y.a,{component:"h1",variant:"h4"},"Sign Up!")),r.a.createElement("form",{className:"signUpForm",onSubmit:function(e){return e.preventDefault(),c.signUp()}},r.a.createElement(E.a,{container:!0,direction:"row",spacing:5},r.a.createElement(E.a,{item:!0,xs:12,sm:4},r.a.createElement(w.a,{onChange:this.setUserName,autoComplete:"username",value:this.state.users.userName||"",error:(null===(e=this.state.users.userName)||void 0===e?void 0:e.length)<3||/[^a-zA-Z0-9\-\/]/.test(this.state.users.userName),helperText:[""===this.state.users.userName?"Empty field!":" ",(null===(t=this.state.users.userName)||void 0===t?void 0:t.length)<3&&(null===(a=this.state.users.userName)||void 0===a?void 0:a.length)>0?"Username cannot be under 3 characters":" ",/[^a-zA-Z0-9\-\/]/.test(this.state.users.userName)?"Can't Use special characters":" "],name:"firstName",variant:"outlined",fullWidth:!0,id:"userName",label:"User Name",autoFocus:!0,required:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:4},r.a.createElement(w.a,{onChange:this.setPassWord,autoComplete:"new-password",value:this.state.users.passWord||"",error:this.state.users.userName===this.state.users.passWord&&(null===(n=this.state.users.passWord)||void 0===n?void 0:n.length)>0||""===this.state.users.passWord||(null===(i=this.state.users.passWord)||void 0===i?void 0:i.length)<5||/[^a-zA-Z0-9\-\/]/.test(this.state.users.passWord),helperText:[this.state.users.userName===this.state.users.passWord&&(null===(s=this.state.users.passWord)||void 0===s?void 0:s.length)>0?"Username cannot be the same as password!":"",""===this.state.users.passWord?"Empty field!":" ",(null===(o=this.state.users.passWord)||void 0===o?void 0:o.length)<5?"Password must be above 5 characters":"",/[^a-zA-Z0-9\-\/]/.test(this.state.users.passWord)?"Can't Use special characters":" "],name:"passWord",variant:"outlined",fullWidth:!0,id:"passWord",type:"password",label:"Password",required:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:4},r.a.createElement(w.a,{onChange:this.setCheckPassWord,autoComplete:"new-password",value:this.state.checkPassword||"",error:this.state.users.passWord!==this.state.checkPassword&&this.state.checkPassword.length>0,helperText:this.state.users.passWord!==this.state.checkPassword&&this.state.checkPassword.length>0?"Passwords don't match!":"",variant:"outlined",fullWidth:!0,type:"password",label:"Confirm Password",required:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(w.a,{onChange:this.setFirstName,autoComplete:"firstName",value:this.state.users.firstName||"",error:""===this.state.users.firstName||/[^a-zA-Z0-9\-\/]/.test(this.state.users.firstName)||/\d/.test(this.state.users.firstName),helperText:[""===this.state.users.firstName?"Empty field!":" ",/[^a-zA-Z0-9\-\/]/.test(this.state.users.firstName)?"Can't Use special characters":" ",/\d/.test(this.state.users.firstName)?"Cannot contain Numbers":" "],name:"firstName",variant:"outlined",fullWidth:!0,id:"firstName",label:"First Name",required:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(w.a,{onChange:this.setLastName,autoComplete:"lastName",value:this.state.users.lastName||"",error:""===this.state.users.lastName||/[^a-zA-Z0-9\-\/]/.test(this.state.users.lastName)||/\d/.test(this.state.users.lastName),helperText:[""===this.state.users.lastName?"Empty field!":" ",/[^a-zA-Z0-9\-\/]/.test(this.state.users.lastName)?"Can't Use special characters":" ",/\d/.test(this.state.users.lastName)?"Cannot contain Numbers":" "],name:"lastName",variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",required:!0})),r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(k.a,{variant:"contained",color:"primary",type:"submit"},"Sign Up!")))),r.a.createElement(b.a,{m:10},r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(k.a,{color:"default",to:"/login",component:f.b,size:"large",className:"signupButt"},"Already A user? - Click Here To LogIn!")))))}}]),a}(n.Component)),P=(a(209),a(134)),B=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).closeMenuOnClick=function(){n.setState({menuOpen:!1})},n.logOut=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.serverUrl,e.next=4,V.a.post("".concat(t,"/api/logout"));case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.state={menuOpen:!1,userInfo:new v},n}return Object(m.a)(a,[{key:"handleStateChange",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.isUserLogged();case 2:a=e.sent,this.setState({userInfo:a}),this.setState({menuOpen:t.isOpen});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"menu"},r.a.createElement(P.bubble,{id:"bubble",overlayClassName:"menuOverlay",isOpen:this.state.menuOpen,onStateChange:function(t){return e.handleStateChange(t)}},r.a.createElement(f.c,{to:"/home",exact:!0,onClick:function(){return e.closeMenuOnClick()}},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"Home"))),r.a.createElement(f.c,{to:"/about",exact:!0,onClick:function(){return e.closeMenuOnClick()}},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"About Us"))),1===this.state.userInfo.isAdmin?r.a.createElement(f.c,{to:"/adminSpace",exact:!0,onClick:function(){return e.closeMenuOnClick()}},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"Admin Space"))):null,1===this.state.userInfo.isAdmin?r.a.createElement(f.c,{to:"/adminChart",exact:!0,onClick:function(){return e.closeMenuOnClick()}},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"Admin Chart"))):null,r.a.createElement("button",{onClick:function(){e.logOut()},className:"bm-item logoutButt"},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"Logout")))))}}]),a}(n.Component),M=(a(225),function e(t,a,n,r,i,s,o,c){Object(u.a)(this,e),this.vacationId=t,this.description=a,this.destination=n,this.vacationImg=r,this.startDate=i,this.endDate=s,this.price=o,this.numberOfFollowers=c}),L=a(135),z=a.n(L),H=(a(226),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setDestination=function(e){var t=e.target.value,a=Object(F.a)({},n.state.newVacation);a.destination=t,n.setState({newVacation:a}),n.validateForm()},n.setDescription=function(e){var t=e.target.value,a=Object(F.a)({},n.state.newVacation);a.description=t,n.setState({newVacation:a}),n.validateForm()},n.setStartDate=function(e){var t=e.target.value,a=Object(F.a)({},n.state.newVacation);a.startDate=t,n.setState({newVacation:a}),n.validateForm()},n.setEndDate=function(e){var t=e.target.value,a=Object(F.a)({},n.state.newVacation);a.endDate=t,n.setState({newVacation:a}),n.validateForm()},n.setPrice=function(e){var t=+e.target.value,a=Object(F.a)({},n.state.newVacation);a.price=t,n.setState({newVacation:a}),n.validateForm()},n.validateForm=function(){var e;console.log(n.state.newVacation.price);var t=Object(F.a)({},n.state.errors);return t.destinationError="",t.descriptionError="",t.startDateError="",t.endDateError="",t.priceError="",void 0!==n.state.newVacation.destination&&""!==n.state.newVacation.destination||(t.destinationError="*"),(null===(e=n.state.newVacation.destination)||void 0===e?void 0:e.length)>20&&(t.destinationError="*"),void 0!==n.state.newVacation.description&&""!==n.state.newVacation.description||(t.descriptionError="*"),void 0!==n.state.newVacation.startDate&&""!==n.state.newVacation.startDate||(t.startDateError="*"),n.state.newVacation.startDate>n.state.newVacation.endDate&&(t.startDateError="*"),void 0!==n.state.newVacation.endDate&&""!==n.state.newVacation.endDate||(t.endDateError="*"),void 0!==n.state.newVacation.price&&null!==n.state.newVacation.price&&0!==n.state.newVacation.price||(t.priceError="*"),n.setState({errors:t}),""===n.state.errors.descriptionError&&""===n.state.errors.destinationError&&""===n.state.errors.startDateError&&""===n.state.errors.endDateError&&""===n.state.errors.priceError},n.closeAfterSubmit=function(){n.setState({showLoading:!0}),n.setTimer(),setTimeout((function(){n.props.closeModal(),n.setState({showLoading:!1,time:5})}),5e3)},n.setTimer=function(){setInterval((function(){var e=n.state.time;e-=1,n.setState({time:e})}),1e3)},n.handleSubmit=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.validateForm()){e.next=7;break}return D.a.fire({title:"Error!",text:"Please Fix The Form",icon:"error",confirmButtonText:"O.K"}),t.preventDefault(),e.abrupt("return");case 7:n.closeAfterSubmit();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={time:5,showLoading:!1,newVacation:new M,errors:{startDateError:"*",endDateError:"*",descriptionError:"*",destinationError:"*",priceError:"*"}},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t,a=this;return r.a.createElement(E.a,null,r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(x.a,{className:"modelWindow"},r.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{component:"h1",variant:"h5"},"Add Vacation")),r.a.createElement(b.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(w.a,{onChange:this.setDestination,label:"Destination",value:this.state.newVacation.destination||"",name:"destination",error:""===this.state.newVacation.destination||(null===(e=this.state.newVacation.destination)||void 0===e?void 0:e.length)>20,helperText:[""===this.state.newVacation.destination||void 0===this.state.newVacation.destination?"Empty Field":"",(null===(t=this.state.newVacation.destination)||void 0===t?void 0:t.length)>20?"Cannot be above 20 letters":""]}))),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(w.a,{onChange:this.setDescription,label:"Description",value:this.state.newVacation.description||"",name:"description",error:""===this.state.newVacation.description,helperText:""===this.state.newVacation.description||void 0===this.state.newVacation.description?"Empty Field":""})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(w.a,{onChange:this.setStartDate,value:this.state.newVacation.startDate||"",id:"startDate",label:"Start Date",type:"date",InputLabelProps:{shrink:!0},error:""===this.state.newVacation.startDate||this.state.newVacation.startDate>this.state.newVacation.endDate,helperText:""===this.state.newVacation.startDate||void 0===this.state.newVacation.startDate?"Empty Field":this.state.newVacation.startDate>this.state.newVacation.endDate?"Starting date cannot be bigger then ending date":""})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(w.a,{onChange:this.setEndDate,value:this.state.newVacation.endDate||"",id:"endDate",label:"End Date",type:"date",InputLabelProps:{shrink:!0},error:""===this.state.newVacation.endDate||this.state.newVacation.startDate>this.state.newVacation.endDate,helperText:""===this.state.newVacation.endDate||void 0===this.state.newVacation.endDate?"Empty Field":this.state.newVacation.startDate>this.state.newVacation.endDate?"Starting date cannot be bigger then ending date":""})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(w.a,{onChange:this.setPrice,label:"Price",value:this.state.newVacation.price||"",name:"price",error:0===this.state.newVacation.price||null===this.state.newVacation.price,helperText:0===this.state.newVacation.price||void 0===this.state.newVacation.price?"Empty Field":""})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement("iframe",{name:"formRedirect",title:"formRedirect",style:{display:"none"}}),r.a.createElement("form",{target:"formRedirect",method:"post",action:"".concat(O.serverUrl,"/api/vacations/addVacation"),encType:"multipart/form-data"},r.a.createElement("input",{name:"vacationId",style:{display:"none"}}),r.a.createElement(b.a,{mt:2},r.a.createElement(k.a,{variant:"contained",color:"secondary"},r.a.createElement("input",{type:"file",name:"vacationImg",accept:"image/*"}),"Upload Image")),r.a.createElement("input",{type:"txt",name:"description",defaultValue:this.state.newVacation.description||"",style:{display:"none"}}),r.a.createElement("input",{type:"txt",name:"destination",defaultValue:this.state.newVacation.destination||"",style:{display:"none"}}),r.a.createElement("input",{type:"txt",name:"startDate",defaultValue:this.state.newVacation.startDate||"",style:{display:"none"}}),r.a.createElement("input",{type:"txt",name:"endDate",defaultValue:this.state.newVacation.endDate||"",style:{display:"none"}}),r.a.createElement("input",{type:"txt",name:"price",defaultValue:this.state.newVacation.price||"",style:{display:"none"}}),r.a.createElement("br",null),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){return a.handleSubmit(e)}},"Submit Changes"))),this.state.showLoading?r.a.createElement(E.a,{className:"SubmitVacationLoad"},r.a.createElement("div",{style:{width:250,height:250},className:"loadingGif"}),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"h4",style:{textAlign:"center"}},"Submitting..."),r.a.createElement(y.a,{variant:"h5",style:{textAlign:"center"}},"Window will close in ",this.state.time)):null)))))}}]),a}(n.Component)),Z=S()(O.serverUrl),R=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleClick=function(e){n.setState({flippedVacation:e}),n.setState((function(e){return{isFlipped:!e.isFlipped}}));var t=Object(F.a)({},n.state.modifiedVacation);t.description=void 0,t.destination=void 0,t.startDate=void 0,t.endDate=void 0,t.price=void 0,t.vacationId=e,n.setState({modifiedVacation:t})},n.getVacations=Object(l.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.serverUrl,e.next=4,V.a.get("".concat(t,"/api/vacations/getAllVacations"));case 4:a=e.sent,r=a.data,n.setState({vacations:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.setDestination=function(e){var t=e.target.value,a=Object(F.a)({},n.state.modifiedVacation);a.destination=t,n.setState({modifiedVacation:a})},n.setDescription=function(e){var t=e.target.value,a=Object(F.a)({},n.state.modifiedVacation);a.description=t,n.setState({modifiedVacation:a})},n.setStartDate=function(e){var t=e.target.value,a=Object(F.a)({},n.state.modifiedVacation);a.startDate=t,n.setState({modifiedVacation:a})},n.setEndDate=function(e){var t=e.target.value,a=Object(F.a)({},n.state.modifiedVacation);a.endDate=t,n.setState({modifiedVacation:a})},n.setPrice=function(e){var t=+e.target.value,a=Object(F.a)({},n.state.modifiedVacation);a.price=t,n.setState({modifiedVacation:a})},n.modifyVacation=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=O.serverUrl,e.next=4,V.a.post("".concat(a,"/api/vacations/modify"),n.state.modifiedVacation);case 4:n.handleClick(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.deleteVacation=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=O.serverUrl,e.next=4,V.a.delete("".concat(a,"/api/vacations/removeVacation/").concat(t));case 4:n.handleClick(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.openModel=function(){n.setState({modelOpen:!0})},n.closeModel=function(){n.setState({modelOpen:!1})},n.state={adminInfo:new v,modifiedVacation:new M,vacations:[],enableText:!1,isFlipped:!1,flippedVacation:null,modelOpen:!1,errors:{startDateError:"*",endDateError:"*",descriptionError:"*",destinationError:"*",priceError:"*"}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){a.setState({enableText:!0})}),2e3),e.next=3,this.getVacations();case 3:return e.next=5,this.props.isAdminLogged();case 5:t=e.sent,this.setState({adminInfo:t}),Z.on("admin-change",(function(e){var t=e;a.setState({vacations:t})}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.enableText?!1===this.state.adminInfo||1!==this.state.adminInfo.isAdmin?r.a.createElement(h.a,{to:"/"}):r.a.createElement(E.a,{container:!0,xs:12,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"85vh"}},r.a.createElement(b.a,{m:4},r.a.createElement(y.a,{component:"h1",variant:"h2",style:{textShadow:"1px 1px 1px black"}},"Admin Zone")),r.a.createElement(b.a,{m:2},r.a.createElement(y.a,{component:"h1",variant:"h5",style:{textAlign:"center",textShadow:"1px 1px 1px black"}},"Press On a vacation to modify or delete it, be careful users will be notified immediately!")),r.a.createElement(E.a,{container:!0,direction:"row",alignItems:"center",justify:"center"},this.state.vacations.map((function(t){return r.a.createElement(E.a,{item:!0,container:!0,xs:12,md:4,justify:"center",className:"vacationContainer",key:t.vacationId},r.a.createElement(z.a,{isFlipped:e.state.isFlipped&&e.state.flippedVacation===t.vacationId,flipDirection:"horizontal"},r.a.createElement(x.a,{className:"vacationContainerBackground",onClick:function(){e.handleClick(t.vacationId)},style:{minWidth:"320px",minHeight:"510px",background:' linear-gradient(0deg, rgba(216, 95, 166, 0.541), rgba(255, 189, 103, 0.438)), url("'.concat(O.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(b.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},t.destination))),r.a.createElement(b.a,{mr:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"})),r.a.createElement(E.a,{className:"vacationDescriptionAdmin",container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},t.description)),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},"Dates - ",t.startDate," - ",t.endDate)),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},"Now for Just - ",t.price," $ per Person!"))),r.a.createElement(x.a,{className:"vacationContainerBackground",style:{width:"320px",minHeight:"510px",background:' linear-gradient(0deg, rgba(216, 95, 166, 0.541), rgba(255, 189, 103, 0.438)), url("'.concat(O.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{className:"title",gutterBottom:!0,variant:"subtitle1"},"Destination"),r.a.createElement(w.a,{onChange:e.setDestination,value:e.state.modifiedVacation.destination||"",name:"destination"})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100px"}},r.a.createElement(y.a,{className:"title",gutterBottom:!0,variant:"subtitle1"},"Description"),r.a.createElement(w.a,{onChange:e.setDescription,value:e.state.modifiedVacation.description||"",name:"description"})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{className:"title",gutterBottom:!0,variant:"subtitle1"},"Start Date"),r.a.createElement(w.a,{onChange:e.setStartDate,value:e.state.modifiedVacation.startDate||"",id:"startDate",label:"Start Date",type:"date",InputLabelProps:{shrink:!0}})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{className:"title",gutterBottom:!0,variant:"subtitle1"},"End Date"),r.a.createElement(w.a,{onChange:e.setEndDate,value:e.state.modifiedVacation.endDate||"",id:"endDate",label:"End Date",type:"date",InputLabelProps:{shrink:!0}})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(y.a,{className:"title",gutterBottom:!0,variant:"subtitle1"},"Price"),r.a.createElement(w.a,{onChange:e.setPrice,value:e.state.modifiedVacation.price||"",name:"price"})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement("iframe",{name:"".concat(t.vacationId),title:"".concat(t.vacationId),style:{display:"none"}}),r.a.createElement("form",{target:"".concat(t.vacationId),method:"post",action:"".concat(O.serverUrl,"/api/vacations/modify"),encType:"multipart/form-data"},r.a.createElement("input",{defaultValue:"".concat(t.vacationId),name:"vacationId",style:{display:"none"}}),r.a.createElement("input",{type:"file",name:"vacationImg",accept:"image/*"}),r.a.createElement("br",null),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){e.modifyVacation(t.vacationId)}},"Submit Changes")))),r.a.createElement(b.a,{mt:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(k.a,{variant:"contained",color:"secondary",onClick:function(){e.deleteVacation(t.vacationId)}},"Delete Vacation"))))))}))),r.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{component:"h1",variant:"h3"},"Add Vacation"),r.a.createElement(b.a,{mt:2},r.a.createElement(y.a,{component:"h1",variant:"h5",style:{textAlign:"center",padding:"20px",textShadow:"1px 1px 1px black"}},"Press The Button and use the pop-up Model to add a new vacation to the site.")),r.a.createElement(b.a,{mt:5,mb:5},r.a.createElement(k.a,{onClick:function(){e.openModel()},variant:"contained",color:"primary"},"Press To Add Vacation")),r.a.createElement(I.a,{open:this.state.modelOpen,onClose:this.closeModel,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(b.a,{mt:2,style:{marginLeft:"10px",marginRight:"10px"}},r.a.createElement(H,{closeModal:this.closeModel}))))):r.a.createElement("div",{className:"loadingGif"})}}]),a}(n.Component),K=(a(227),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"90vh"}},r.a.createElement(y.a,{component:"h1",variant:"h3",style:{color:"white",textShadow:"1px 2px 1px black"}},"Oops... It seems Like you reached Somewhere no plane can Go :("),r.a.createElement(b.a,{m:10},r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(k.a,{color:"default",to:"/register",component:f.b,size:"large"},"Already A user? - Click Here To LogIn!"))))}}]),a}(n.Component)),$=(a(228),a(136)),q=S()(O.serverUrl),G=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getVacations=Object(l.a)(c.a.mark((function e(){var t,a,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(F.a)({},n.state.chartData),a=O.serverUrl,e.next=5,V.a.get("".concat(a,"/api/vacations/getAllVacations"));case 5:r=e.sent,i=r.data,s=i.filter((function(e){return e.numberOfFollowers>0})),t.labels=s.map((function(e){return e.destination})),t.datasets[0].data=s.map((function(e){return e.numberOfFollowers})),n.setState({chartData:t}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.state={adminInfo:new v,enableText:!1,chartData:{labels:[],datasets:[{label:"Followers",backgroundColor:"rgba(255, 160, 51, 0.493)",borderColor:"rgba(255, 160, 51, 0.76)",borderWidth:2,barThickness:50,data:[]}]}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){a.setState({enableText:!0})}),2e3),e.next=3,this.props.isAdminLogged();case 3:return t=e.sent,this.setState({adminInfo:t}),e.next=7,this.getVacations();case 7:q.on("admin-change",(function(e){var t=Object(F.a)({},a.state.chartData);t.datasets[0].data=e.map((function(e){return e.numberOfFollowers})),a.setState({chartData:t})}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.enableText?!1===this.state.adminInfo||1!==this.state.adminInfo.isAdmin?r.a.createElement(h.a,{to:"/"}):r.a.createElement(E.a,{container:!0,alignItems:"center",justify:"center",direction:"column"},r.a.createElement(b.a,{mb:5},r.a.createElement(y.a,null,"The Chart below shows the numbers of followers per Vacation (Only vacations with more then one follower will show here)")),r.a.createElement(E.a,{className:"chart"},r.a.createElement($.a,{data:this.state.chartData,options:{responsive:!0,maintainAspectRatio:!0,scales:{xAxes:[{ticks:{fontColor:"gray",fontSize:15}}],yAxes:[{ticks:{beginAtZero:!0,callback:function(e){if(Number.isInteger(e))return e},stepSize:1,fontColor:"gray",fontSize:15}}]},title:{display:!0,text:"Followers Per Vacation",fontSize:20},legend:{display:!0,position:"right",labels:{fontColor:"gray",fontSize:15}}}}))):r.a.createElement("div",{className:"loadingGif"})}}]),a}(n.Component),J=(a(320),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={enableText:!1,userInfo:new v},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.body.style.backgroundImage="url('/assets/resort1.jpg')",setTimeout((function(){a.setState({enableText:!0})}),2e3),e.next=4,this.props.isUserLogged();case 4:t=e.sent,this.setState({userInfo:t});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){document.body.style.backgroundImage="linear-gradient(0deg, rgba(216, 95, 166, 0.308), rgba(255, 189, 103, 0.466)), url('/assets/login-wallpaper.jpg')"}},{key:"render",value:function(){return this.state.enableText?!1===this.state.userInfo?r.a.createElement(h.a,{to:"/"}):r.a.createElement(E.a,{container:!0,alignItems:"center",justify:"center",direction:"column"},r.a.createElement(y.a,{style:{textAlign:"center"},variant:"h3",component:"h3"},"Welcome To SkySurf"),r.a.createElement(b.a,{mt:4},r.a.createElement(E.a,{container:!0,alignItems:"center",justify:"center",direction:"row",className:"aboutInfo"},r.a.createElement(E.a,{container:!0,xs:8,justify:"center",alignItems:"center"},r.a.createElement(y.a,{style:{textAlign:"center"},variant:"h5"},"With over 20 years of experience in the world of luxury travel, We take pride in delivering the best experiences the world has to offer"))))):r.a.createElement("div",{className:"loadingGif"})}}]),a}(n.Component));V.a.defaults.withCredentials=!0;var Y=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).userLogged=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.serverUrl,e.next=4,V.a.get("".concat(t,"/api/userLogged"));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(0),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.adminLogged=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.serverUrl,e.next=4,V.a.get("".concat(t,"/api/userLogged"));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(0),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.disableMenu=function(){n.setState({showMenu:!1})},n.enableMenu=function(){n.setState({showMenu:!0})},n.state={showMenu:!0},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){document.title="Sky Surfer"}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",style:{minHeight:"100vh"}},r.a.createElement(f.a,null,this.state.showMenu&&r.a.createElement(E.a,{container:!0,alignItems:"flex-start",direction:"column"},r.a.createElement("aside",null,r.a.createElement(B,{isUserLogged:this.userLogged}))),r.a.createElement("header",{className:"header"},r.a.createElement(E.a,{container:!0,alignItems:"center",direction:"column",style:{minHeight:"20vh"}},r.a.createElement(y.a,{component:"h1",variant:"h2"},"SkySurf"),r.a.createElement(E.a,{container:!0,item:!0,lg:12,justify:"center",alignItems:"center"},r.a.createElement(y.a,{component:"h1",variant:"h6"},"- Your Indulgent vacation is only -")),r.a.createElement(E.a,{container:!0,item:!0,lg:12,justify:"center",alignItems:"center"},r.a.createElement(y.a,{component:"h1",variant:"h6"},"- A Few Clicks Away -")))),r.a.createElement(E.a,{container:!0},r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/home",render:function(t){return r.a.createElement(T,Object.assign({},t,{isUserLogged:e.userLogged,enableMenu:e.enableMenu}))},exact:!0}),r.a.createElement(h.b,{path:"/about",render:function(t){return r.a.createElement(J,Object.assign({},t,{isUserLogged:e.userLogged,enableMenu:e.enableMenu}))},exact:!0}),r.a.createElement(h.b,{path:"/register",render:function(t){return r.a.createElement(W,Object.assign({},t,{enableMenu:e.disableMenu}))}}),r.a.createElement(h.b,{path:"/login",render:function(t){return r.a.createElement(U,Object.assign({},t,{enableMenu:e.disableMenu}))}}),r.a.createElement(h.b,{path:"/adminSpace",render:function(t){return r.a.createElement(R,Object.assign({},t,{isAdminLogged:e.adminLogged}))}}),r.a.createElement(h.b,{path:"/adminChart",render:function(t){return r.a.createElement(G,Object.assign({},t,{isAdminLogged:e.adminLogged}))}}),r.a.createElement(h.a,{from:"/",to:"/register",exact:!0}),r.a.createElement(h.b,{component:K}))),r.a.createElement("footer",null)))}}]),a}(n.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.83f45add.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,a){e.exports=a(215)},137:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},186:function(e,t){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i);a(137),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(8),c=a.n(s),l=a(15),u=a(14),m=a(17),d=a(22),p=a(21),f=(a(139),a(23)),h=a(16),v=(a(140),function e(t,a,n,r){Object(u.a)(this,e),this.userId=t,this.userName=a,this.passWord=n,this.isAdmin=r}),g=function e(t,a){Object(u.a)(this,e),this.userId=t,this.vacationId=a},E=a(245),b=a(248),y=a(256),x=a(216),w=a(249),j=a(250),k=a(251),I=a(258),V=a(18),O=a.n(V),D=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,null,[{key:"_initialize",value:function(){e.serverUrl="https://skysurf.herokuapp.com"}}]),e}();D.serverUrl=void 0,D._initialize();var C=a(35),S=a.n(C),N=a(61),U=a.n(N),T=U()(D.serverUrl),F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getVacations=Object(l.a)(c.a.mark((function e(){var t,a,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.serverUrl,e.next=4,O.a.get("".concat(t,"/api/vacations/getPickedVacations/").concat(n.state.userInfo.userId));case 4:return a=e.sent,r=a.data,n.setState({pickedVacations:r}),i=n.state.pickedVacations.map((function(e){return e.vacationId})),e.next=10,O.a.post("".concat(t,"/api/vacations/getUnPickedVacations"),{data:{userId:n.state.userInfo.userId,pickedVacations:i}});case 10:o=e.sent,s=o.data,n.setState({unPickedVacations:s}),console.log(n.state.pickedVacations),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),n.followVacation=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({pickedVacation:t}),a=D.serverUrl,e.next=5,O.a.post("".concat(a,"/api/vacations/followVacation"),{data:{userId:n.state.userInfo.userId,vacationId:t}});case 5:n.getVacations(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return S.a.fire({title:"Error!",text:"Admin Cannot Follow vacations, please switch to a regular account",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n.unFollowVacation=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({pickedVacation:t}),n.setState({isChecked:!1}),a=D.serverUrl,e.next=6,O.a.delete("".concat(a,"/api/vacations/unfollowVacation"),{data:{vacationId:t,userId:n.state.userInfo.userId}});case 6:n.getVacations(),e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),403!==e.t0.response.status){e.next=14;break}return S.a.fire({title:"Error!",text:"Admin Cannot unFollow vacations, please switch to a regular account",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n.logOut=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.serverUrl,e.next=4,O.a.post("".concat(t,"/api/logout"));case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.state={userInfo:new v,pickedVacations:[],unPickedVacations:[],enableText:!1,usersVsVacations:new g,isChecked:!0,pickedVacation:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.enableMenu(),document.body.style.backgroundImage="url('/assets/home-wallpaper.jpg')",setTimeout((function(){a.setState({enableText:!0})}),2e3),e.next=5,this.props.isUserLogged();case 5:return t=e.sent,this.setState({userInfo:t}),e.next=9,this.getVacations();case 9:T.on("admin-change",(function(e){var t=a.state.pickedVacations.map((function(t){return e.filter((function(e){return e.vacationId===t.vacationId}))})),n=[];for(var r in t)0!==t[r].length&&(n.push(t[r][0]),a.setState({pickedVacations:n}));var i=a.state.unPickedVacations.map((function(t){return e.filter((function(e){return e.vacationId===t.vacationId}))})),o=[];for(var s in i){if(0===i[s].length)return;o.push(i[s][0]),a.setState({unPickedVacations:o})}}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){document.body.style.backgroundImage="linear-gradient(0deg, rgba(216, 95, 166, 0.308), rgba(255, 189, 103, 0.466)), url('/assets/login-wallpaper.jpg')"}},{key:"render",value:function(){var e=this;return!1===this.state.userInfo?r.a.createElement(h.a,{to:"/"}):this.state.enableText?r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{container:!0,alignItems:"flex-end",justify:"flex-end",direction:"row",className:"logoutButton"},r.a.createElement(b.a,{color:"default",size:"large",style:{border:"1px solid black"},onClick:function(){e.logOut()}},"Logout")),r.a.createElement(y.a,{mb:2,ml:2},r.a.createElement(E.a,{container:!0,alignItems:"flex-start",justify:"flex-start",direction:"row"},r.a.createElement(x.a,{component:"h1",variant:"h6"},"Welcome - ","".concat(this.state.userInfo.userName)))),r.a.createElement(E.a,{container:!0,alignItems:"flex-start",justify:"flex-start",direction:"row",style:{minHeight:"50vh"}},r.a.createElement(y.a,{ml:4,mb:2},r.a.createElement(x.a,{component:"h1",variant:"h4"},"Vacations You Follow!")),r.a.createElement(E.a,{item:!0,container:!0,style:{minHeight:"40vh"}},this.state.pickedVacations.map((function(t){return r.a.createElement(E.a,{item:!0,container:!0,xs:10,sm:4,justify:"center",className:"vacationContainer",key:t.vacationId},r.a.createElement(w.a,{className:"vacationContainerBackground",style:{background:' linear-gradient(0deg, rgba(216, 95, 166, 0.541), rgba(255, 189, 103, 0.438)), url("'.concat(D.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(y.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},t.destination))),r.a.createElement(y.a,{mr:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(j.a,null,r.a.createElement(k.a,{control:r.a.createElement(I.a,{size:"small",checked:e.state.pickedVacation===t.vacationId||e.state.pickedVacation!==t.vacationId,onChange:function(){e.unFollowVacation(t.vacationId)}}),label:"unFollow",labelPlacement:"bottom"})))),r.a.createElement(y.a,{display:"flex"},r.a.createElement(E.a,{xs:9,container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},t.description)),r.a.createElement(E.a,{xs:3,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement("div",{style:{textAlign:"center"},className:"followerBackground"},r.a.createElement("p",null,"Number Of Followers"),r.a.createElement(x.a,{style:{textAlign:"center"}},t.numberOfFollowers)))),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Dates - ",t.startDate," - ",t.endDate)),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Now for Just - ",t.price," $ per Person!"))))}))),r.a.createElement(y.a,{m:4},r.a.createElement(x.a,{component:"h1",variant:"h4"},"Our Selection Of New Offers for you!")),r.a.createElement(E.a,{container:!0,style:{minHeight:"40vh"}},this.state.unPickedVacations.map((function(t){return r.a.createElement(E.a,{item:!0,container:!0,xs:10,sm:4,justify:"center",className:"vacationContainer",key:t.vacationId},r.a.createElement(w.a,{className:"vacationContainerBackground",style:{background:' linear-gradient(0deg, rgba(216, 95, 166, 0.541), rgba(255, 189, 103, 0.438)), url("'.concat(D.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(y.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},t.destination))),r.a.createElement(y.a,{mr:2,display:"inline"},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(j.a,null,r.a.createElement(k.a,{control:r.a.createElement(I.a,{size:"small",checked:e.state.pickedVacation!==t.vacationId&&e.state.pickedVacation===t.vacationId,onChange:function(){e.followVacation(t.vacationId)}}),label:"Follow",labelPlacement:"bottom"})))),r.a.createElement(y.a,{display:"flex"},r.a.createElement(E.a,{container:!0,xs:9,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},t.description)),r.a.createElement(E.a,{container:!0,xs:3,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement("div",{style:{textAlign:"center"},className:"followerBackground"},r.a.createElement(x.a,null,"Number Of Followers"),r.a.createElement(x.a,{style:{textAlign:"center"}},t.numberOfFollowers)))),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Dates - ",t.startDate," - ",t.endDate)),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Now for Just - ",t.price," $ per Person!"))))}))))):r.a.createElement("div",{className:"loadingGif"})}}]),a}(n.Component),W=a(24),A=a(254),B=(a(193),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setUserName=function(e){var t=e.target.value,a=Object(W.a)({},n.state.users);a.userName=t,n.setState({users:a})},n.setPassWord=function(e){var t=e.target.value,a=Object(W.a)({},n.state.users);a.passWord=t,n.setState({users:a})},n.logIn=Object(l.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.serverUrl,e.next=4,O.a.post("".concat(t,"/api/login"),n.state.users);case 4:a=e.sent,r=a.data,S.a.fire({title:"Success!",text:"Welcome ".concat(r.userName," Press Below To enter the site!"),icon:"success",confirmButtonText:"O.K"}),n.props.history.push("/home"),e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(0),401!==e.t0.response.status){e.next=15;break}return S.a.fire({title:"Error!",text:"Wrong Username Or Password",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.state={users:new v},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.enableMenu()}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"60vh"}},r.a.createElement(y.a,{m:2},r.a.createElement(x.a,{component:"h1",variant:"h4"},"Login!")),r.a.createElement("form",{className:"logInForm",onSubmit:function(t){return t.preventDefault(),e.logIn()}},r.a.createElement(E.a,{container:!0,direction:"row",spacing:5},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{onChange:this.setUserName,autoComplete:"userName",value:this.state.users.userName||"",error:""===this.state.users.userName,helperText:""===this.state.users.userName?"Empty field!":" ",name:"firstName",variant:"outlined",fullWidth:!0,id:"userName",label:"User Name",autoFocus:!0,required:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{onChange:this.setPassWord,autoComplete:"passWord",value:this.state.users.passWord||"",error:""===this.state.users.passWord,helperText:""===this.state.users.passWord?"Empty field!":" ",name:"passWord",variant:"outlined",fullWidth:!0,id:"passWord",type:"password",label:"Password",required:!0})),r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(b.a,{variant:"contained",color:"primary",type:"submit"},"Log In!")))),r.a.createElement(y.a,{m:10},r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(b.a,{color:"default",to:"/register",component:f.b,size:"large",style:{border:"1px solid black"}},"New To Our Site? Press here to join and find your destination today!"))))}}]),a}(n.Component)),P=(a(194),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setUserName=function(e){var t=e.target.value,a="",r=Object(W.a)({},n.state.users),i=Object(W.a)({},n.state.errors);""===t&&(a="*"),t.length<3&&(a="*"),/[^a-zA-Z0-9\-\/]/.test(t)&&(a="*"),r.userName=t,i.usernameError=a,n.setState({users:r,errors:i})},n.setPassWord=function(e){var t=e.target.value,a="",r=Object(W.a)({},n.state.users),i=Object(W.a)({},n.state.errors);""===t&&(a="*"),t===n.state.users.userName&&(a="*"),t.length<5&&(a="*"),/[^a-zA-Z0-9\-\/]/.test(t)&&(a="*"),i.passwordError=a,r.passWord=t,n.setState({users:r,errors:i})},n.isLegal=function(){return""===n.state.errors.usernameError&&""===n.state.errors.passwordError},n.signUp=Object(l.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.isLegal()){e.next=4;break}return S.a.fire({title:"Error!",text:"Please fix the form Errors!",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 4:return t=D.serverUrl,e.next=7,O.a.post("".concat(t,"/api/register"),n.state.users);case 7:a=e.sent,r=a.data,S.a.fire({title:"Success!",text:"Welcome ".concat(r.userName," Press Below To enter the site!"),icon:"success",confirmButtonText:"O.K"}),n.props.history.push("/home"),e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(0),401!==e.t0.response.status){e.next=18;break}return S.a.fire({title:"Error!",text:"Seems Like That Name is already taken :( \n                            Try Another One!",icon:"error",confirmButtonText:"O.K"}),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.state={users:new v,errors:{usernameError:"*",passwordError:"*"}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.enableMenu()}},{key:"render",value:function(){var e,t,a,n,i,o,s,c=this;return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"60vh"}},r.a.createElement(y.a,{m:2},r.a.createElement(x.a,{component:"h1",variant:"h4"},"Sign Up!")),r.a.createElement("form",{className:"signUpForm",onSubmit:function(e){return e.preventDefault(),c.signUp()}},r.a.createElement(E.a,{container:!0,direction:"row",spacing:5},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{onChange:this.setUserName,autoComplete:"userName",value:this.state.users.userName||"",error:(null===(e=this.state.users.userName)||void 0===e?void 0:e.length)<3||/[^a-zA-Z0-9\-\/]/.test(this.state.users.userName),helperText:[""===this.state.users.userName?"Empty field!":" ",(null===(t=this.state.users.userName)||void 0===t?void 0:t.length)<3&&(null===(a=this.state.users.userName)||void 0===a?void 0:a.length)>0?"Username cannot be under 3 characters":" ",/[^a-zA-Z0-9\-\/]/.test(this.state.users.userName)?"Can't Use special characters":" "],name:"firstName",variant:"outlined",fullWidth:!0,id:"userName",label:"User Name",autoFocus:!0,required:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{onChange:this.setPassWord,autoComplete:"passWord",value:this.state.users.passWord||"",error:this.state.users.userName===this.state.users.passWord&&(null===(n=this.state.users.passWord)||void 0===n?void 0:n.length)>0||""===this.state.users.passWord||(null===(i=this.state.users.passWord)||void 0===i?void 0:i.length)<5||/[^a-zA-Z0-9\-\/]/.test(this.state.users.passWord),helperText:[this.state.users.userName===this.state.users.passWord&&(null===(o=this.state.users.passWord)||void 0===o?void 0:o.length)>0?"Username cannot be the same as password!":"",""===this.state.users.passWord?"Empty field!":" ",(null===(s=this.state.users.passWord)||void 0===s?void 0:s.length)<5?"Password must be above 5 characters":"",/[^a-zA-Z0-9\-\/]/.test(this.state.users.passWord)?"Can't Use special characters":" "],name:"passWord",variant:"outlined",fullWidth:!0,id:"passWord",type:"password",label:"Password",required:!0})),r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(b.a,{variant:"contained",color:"primary",type:"submit"},"Sign Up!")))),r.a.createElement(y.a,{m:10},r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(b.a,{color:"default",to:"/login",component:f.b,size:"large",style:{border:"1px solid black"}},"Already A user? - Click Here To LogIn!"))))}}]),a}(n.Component)),M=(a(195),a(116)),L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).closeMenuOnClick=function(){n.setState({menuOpen:!1})},n.state={menuOpen:!1,userInfo:new v},n}return Object(m.a)(a,[{key:"handleStateChange",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.isUserLogged();case 2:a=e.sent,this.setState({userInfo:a}),this.setState({menuOpen:t.isOpen});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"menu"},r.a.createElement(M.bubble,{id:"bubble",overlayClassName:"menuOverlay",isOpen:this.state.menuOpen,onStateChange:function(t){return e.handleStateChange(t)}},r.a.createElement(f.c,{to:"/home",exact:!0,onClick:function(){return e.closeMenuOnClick()}},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"Home"))),r.a.createElement(f.c,{to:"/about",exact:!0,onClick:function(){return e.closeMenuOnClick()}},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"About Us"))),1===this.state.userInfo.isAdmin?r.a.createElement(f.c,{to:"/adminSpace",exact:!0,onClick:function(){return e.closeMenuOnClick()}},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"Admin Space"))):null,1===this.state.userInfo.isAdmin?r.a.createElement(f.c,{to:"/adminChart",exact:!0,onClick:function(){return e.closeMenuOnClick()}},r.a.createElement("div",{className:"menuFlex"},r.a.createElement("span",null,"Admin Chart"))):null))}}]),a}(n.Component),z=(a(211),function e(t,a,n,r,i,o,s,c){Object(u.a)(this,e),this.vacationId=t,this.description=a,this.destination=n,this.vacationImg=r,this.startDate=i,this.endDate=o,this.price=s,this.numberOfFollowers=c}),H=a(257),K=a(117),Z=a.n(K),G=U()(D.serverUrl),J=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleClick=function(e){n.setState({flippedVacation:e}),n.setState((function(e){return{isFlipped:!e.isFlipped}}));var t=Object(W.a)({},n.state.modifiedVacation);t.description=void 0,t.destination=void 0,t.startDate=void 0,t.endDate=void 0,t.price=void 0,t.vacationId=e,n.setState({modifiedVacation:t})},n.getVacations=Object(l.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.serverUrl,e.next=4,O.a.get("".concat(t,"/api/vacations/getAllVacations"));case 4:a=e.sent,r=a.data,n.setState({vacations:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.setDestination=function(e){var t=e.target.value,a=Object(W.a)({},n.state.modifiedVacation);a.destination=t,n.setState({modifiedVacation:a}),n.validateForm()},n.setDescription=function(e){var t=e.target.value,a=Object(W.a)({},n.state.modifiedVacation);a.description=t,n.setState({modifiedVacation:a}),n.validateForm()},n.setStartDate=function(e){var t=e.target.value,a=Object(W.a)({},n.state.modifiedVacation);a.startDate=t,n.setState({modifiedVacation:a}),n.validateForm()},n.setEndDate=function(e){var t=e.target.value,a=Object(W.a)({},n.state.modifiedVacation);a.endDate=t,n.setState({modifiedVacation:a}),n.validateForm()},n.setPrice=function(e){var t=+e.target.value,a=Object(W.a)({},n.state.modifiedVacation);a.price=t,n.setState({modifiedVacation:a}),n.validateForm()},n.modifyVacation=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=D.serverUrl,e.next=4,O.a.post("".concat(a,"/api/vacations/modify"),n.state.modifiedVacation);case 4:n.handleClick(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.deleteVacation=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=D.serverUrl,e.next=4,O.a.delete("".concat(a,"/api/vacations/removeVacation/").concat(t));case 4:n.handleClick(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.openModel=function(){n.setState({modelOpen:!0})},n.closeModel=function(){n.setState({modelOpen:!1});var e=Object(W.a)({},n.state.modifiedVacation);e.description=void 0,e.destination=void 0,e.startDate=void 0,e.endDate=void 0,e.price=void 0,n.setState({modifiedVacation:e})},n.validateForm=function(){var e=Object(W.a)({},n.state.errors);return e.destinationError="",e.descriptionError="",e.startDateError="",e.endDateError="",e.priceError="",void 0!==n.state.modifiedVacation.destination&&""!==n.state.modifiedVacation.destination||(e.destinationError="*"),void 0!==n.state.modifiedVacation.description&&""!==n.state.modifiedVacation.description||(e.descriptionError="*"),void 0!==n.state.modifiedVacation.startDate&&""!==n.state.modifiedVacation.startDate||(e.startDateError="*"),n.state.modifiedVacation.startDate>n.state.modifiedVacation.endDate&&(e.startDateError="*"),void 0!==n.state.modifiedVacation.endDate&&""!==n.state.modifiedVacation.endDate||(e.endDateError="*"),void 0!==n.state.modifiedVacation.price&&null!==n.state.modifiedVacation.price||(e.priceError="*"),n.setState({errors:e}),""===n.state.errors.descriptionError&&""===n.state.errors.destinationError&&""===n.state.errors.startDateError&&""===n.state.errors.endDateError&&""===n.state.errors.priceError},n.handleSubmit=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.validateForm()||t.preventDefault();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={adminInfo:new v,modifiedVacation:new z,vacations:[],enableText:!1,isFlipped:!1,flippedVacation:null,modelOpen:!1,errors:{startDateError:"*",endDateError:"*",descriptionError:"*",destinationError:"*",priceError:"*"}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){a.setState({enableText:!0})}),2e3),e.next=3,this.getVacations();case 3:return e.next=5,this.props.isAdminLogged();case 5:t=e.sent,this.setState({adminInfo:t}),G.on("admin-change",(function(e){var t=e;a.setState({vacations:t})}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.enableText?!1===this.state.adminInfo||1!==this.state.adminInfo.isAdmin?r.a.createElement(h.a,{to:"/"}):r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"85vh"}},r.a.createElement(y.a,{m:4},r.a.createElement(x.a,{component:"h1",variant:"h2"},"Admin Zone")),r.a.createElement(y.a,{m:2},r.a.createElement(x.a,{component:"h1",variant:"h5"},"Press On a vacation to modify or delete it, be careful users will be notified immediately!")),r.a.createElement(E.a,{container:!0,direction:"row",alignItems:"center",justify:"center"},this.state.vacations.map((function(t){return r.a.createElement(E.a,{item:!0,container:!0,lg:4,xs:8,md:5,justify:"center",className:"vacationContainer",key:t.vacationId},r.a.createElement(Z.a,{isFlipped:e.state.isFlipped&&e.state.flippedVacation===t.vacationId,flipDirection:"horizontal"},r.a.createElement(w.a,{className:"vacationContainerBackground",onClick:function(){e.handleClick(t.vacationId)},style:{minWidth:"400px",minHeight:"500px",background:' linear-gradient(0deg, rgba(216, 95, 166, 0.541), rgba(255, 189, 103, 0.438)), url("'.concat(D.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(y.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},t.destination))),r.a.createElement(y.a,{mr:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},t.description)),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Dates - ",t.startDate," - ",t.endDate)),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Now for Just - ",t.price," $ per Person!"))),r.a.createElement(w.a,{className:"vacationContainerBackground",style:{minWidth:"400px",minHeight:"500px",background:' linear-gradient(0deg, rgba(216, 95, 166, 0.541), rgba(255, 189, 103, 0.438)), url("'.concat(D.serverUrl,"/uploads/").concat(t.vacationImg,'")')}},r.a.createElement(y.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(A.a,{onChange:e.setDestination,value:e.state.modifiedVacation.destination||"",name:"destination"}),r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Destination"))),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(A.a,{onChange:e.setDescription,value:e.state.modifiedVacation.description||"",name:"description"}),r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Description")),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(A.a,{onChange:e.setStartDate,value:e.state.modifiedVacation.startDate||"",id:"startDate",label:"Start Date",type:"date",InputLabelProps:{shrink:!0}}),r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Start Date")),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(A.a,{onChange:e.setEndDate,value:e.state.modifiedVacation.endDate||"",id:"endDate",label:"End Date",type:"date",InputLabelProps:{shrink:!0}}),r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"End Date")),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(A.a,{onChange:e.setPrice,value:e.state.modifiedVacation.price||"",name:"price"}),r.a.createElement(x.a,{gutterBottom:!0,variant:"subtitle1"},"Price")),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement("iframe",{name:"".concat(t.vacationId),title:"".concat(t.vacationId),style:{display:"none"}}),r.a.createElement("form",{target:"".concat(t.vacationId),method:"post",action:"".concat(D.serverUrl,"/api/vacations/modify"),encType:"multipart/form-data"},r.a.createElement("input",{defaultValue:"".concat(t.vacationId),name:"vacationId",style:{display:"none"}}),r.a.createElement("input",{type:"file",name:"vacationImg",accept:"image/*"}),r.a.createElement("br",null),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){e.modifyVacation(t.vacationId)}},"Submit Changes")))),r.a.createElement(y.a,{mt:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(b.a,{variant:"contained",color:"secondary",onClick:function(){e.deleteVacation(t.vacationId)}},"Delete Vacation"))))))}))),r.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(x.a,{component:"h1",variant:"h3"},"Add Vacation"),r.a.createElement(y.a,{mt:2},r.a.createElement(x.a,{component:"h1",variant:"h5"},"Press The Button and use the pop-up Model to add a new vacation to the site.")),r.a.createElement(y.a,{m:5},r.a.createElement(b.a,{onClick:function(){e.openModel()},variant:"contained",color:"primary"},"Press To Add Vacation")),r.a.createElement(H.a,{open:this.state.modelOpen,onClose:this.closeModel,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(y.a,{mt:10,style:{marginLeft:"50%",marginRight:"50%"}},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(w.a,{className:"modelWindow"},r.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(x.a,{component:"h1",variant:"h5"},"Add Vacation")),r.a.createElement(y.a,{ml:2},r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(A.a,{onChange:this.setDestination,label:"Destination",value:this.state.modifiedVacation.destination||"",name:"destination",error:""===this.state.modifiedVacation.destination||void 0===this.state.modifiedVacation.destination,helperText:""===this.state.modifiedVacation.destination||void 0===this.state.modifiedVacation.destination?"Empty Field":""}))),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"170px"}},r.a.createElement(A.a,{onChange:this.setDescription,label:"Description",value:this.state.modifiedVacation.description||"",name:"description",error:""===this.state.modifiedVacation.description||void 0===this.state.modifiedVacation.description,helperText:""===this.state.modifiedVacation.description||void 0===this.state.modifiedVacation.description?"Empty Field":""})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(A.a,{onChange:this.setStartDate,value:this.state.modifiedVacation.startDate||"",id:"startDate",label:"Start Date",type:"date",InputLabelProps:{shrink:!0},error:""===this.state.modifiedVacation.startDate||void 0===this.state.modifiedVacation.startDate||this.state.modifiedVacation.startDate>this.state.modifiedVacation.endDate,helperText:""===this.state.modifiedVacation.startDate||void 0===this.state.modifiedVacation.startDate?"Empty Field":this.state.modifiedVacation.startDate>this.state.modifiedVacation.endDate?"Starting date cannot be bigger then ending date":""})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(A.a,{onChange:this.setEndDate,value:this.state.modifiedVacation.endDate||"",id:"endDate",label:"End Date",type:"date",InputLabelProps:{shrink:!0},error:""===this.state.modifiedVacation.endDate||void 0===this.state.modifiedVacation.endDate||this.state.modifiedVacation.startDate>this.state.modifiedVacation.endDate,helperText:""===this.state.modifiedVacation.endDate||void 0===this.state.modifiedVacation.endDate?"Empty Field":this.state.modifiedVacation.startDate>this.state.modifiedVacation.endDate?"Starting date cannot be bigger then ending date":""})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(A.a,{onChange:this.setPrice,label:"Price",value:this.state.modifiedVacation.price||"",name:"price",error:null===this.state.modifiedVacation.price||void 0===this.state.modifiedVacation.price,helperText:null===this.state.modifiedVacation.price||void 0===this.state.modifiedVacation.price?"Empty Field":""})),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement("iframe",{name:"formRedirect",title:"formRedirect",style:{display:"none"}}),r.a.createElement("form",{target:"formRedirect",method:"post",action:"".concat(D.serverUrl,"/api/vacations/addVacation"),encType:"multipart/form-data"},r.a.createElement("input",{name:"vacationId",style:{display:"none"}}),r.a.createElement(y.a,{mt:2},r.a.createElement(b.a,{variant:"contained",color:"secondary"},r.a.createElement("input",{type:"file",name:"vacationImg",accept:"image/*"}),"Upload Image")),r.a.createElement("input",{type:"txt",name:"description",defaultValue:this.state.modifiedVacation.description||"",style:{display:"none"}}),r.a.createElement("input",{type:"txt",name:"destination",defaultValue:this.state.modifiedVacation.destination||"",style:{display:"none"}}),r.a.createElement("input",{type:"txt",name:"startDate",defaultValue:this.state.modifiedVacation.startDate||"",style:{display:"none"}}),r.a.createElement("input",{type:"txt",name:"endDate",defaultValue:this.state.modifiedVacation.endDate||"",style:{display:"none"}}),r.a.createElement("input",{type:"txt",name:"price",defaultValue:this.state.modifiedVacation.price||"",style:{display:"none"}}),r.a.createElement("br",null),r.a.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:this.handleSubmit},"Submit Changes"))))))))))):r.a.createElement("div",{className:"loadingGif"})}}]),a}(n.Component),q=(a(212),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"90vh"}},r.a.createElement(x.a,{component:"h1",variant:"h3",style:{color:"white",textShadow:"1px 2px 1px black"}},"Oops... It seems Like you reached Somewhere no plane can Go :("),r.a.createElement(y.a,{m:10},r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(b.a,{color:"default",to:"/register",component:f.b,size:"large"},"Already A user? - Click Here To LogIn!"))))}}]),a}(n.Component)),R=(a(213),a(12)),$=a(53),Y=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getVacations=Object(l.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.serverUrl,e.next=4,O.a.get("".concat(t,"/api/vacations/getAllVacations"));case 4:a=e.sent,r=a.data,n.setState({chartData:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.state={adminInfo:new v,enableText:!1,chartData:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){a.setState({enableText:!0})}),2e3),e.next=3,this.props.isAdminLogged();case 3:return t=e.sent,this.setState({adminInfo:t}),e.next=7,this.getVacations();case 7:console.log(this.state.chartData);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.enableText?!1===this.state.adminInfo||1!==this.state.adminInfo.isAdmin?r.a.createElement(h.a,{to:"/"}):r.a.createElement(E.a,{container:!0,alignItems:"center",justify:"center",direction:"column"},r.a.createElement(y.a,{mb:5},r.a.createElement(x.a,null,"The Chart below shows the numbers of followers per Vacation (Only vacations with more then one follower will show here)")),r.a.createElement(E.a,{className:"chart"},r.a.createElement($.c,{data:this.state.chartData.filter((function(e){return e.numberOfFollowers>0}))},r.a.createElement($.a,null),r.a.createElement($.e,{position:"left"}),r.a.createElement($.b,{barWidth:.7,valueField:"numberOfFollowers",argumentField:"destination",color:"#ffaa66"}),r.a.createElement($.d,{text:"Vacation Following"}),r.a.createElement(R.a,null),r.a.createElement(R.f,null),r.a.createElement(R.g,null)))):r.a.createElement("div",{className:"loadingGif"})}}]),a}(n.Component),_=(a(214),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={enableText:!1,userInfo:new v},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){a.setState({enableText:!0})}),2e3),e.next=3,this.props.isUserLogged();case 3:t=e.sent,this.setState({userInfo:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.enableText?!1===this.state.userInfo?r.a.createElement(h.a,{to:"/"}):r.a.createElement(E.a,{container:!0,alignItems:"center",justify:"center",direction:"column"},r.a.createElement(x.a,{variant:"h2",component:"h2"},"Welcome To SkySurf")):r.a.createElement("div",{className:"loadingGif"})}}]),a}(n.Component));O.a.defaults.withCredentials=!0;var Q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).userLogged=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.serverUrl,e.next=4,O.a.get("".concat(t,"/api/userLogged"));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(0),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.adminLogged=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.serverUrl,e.next=4,O.a.get("".concat(t,"/api/userLogged"));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(0),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.disableMenu=function(){n.setState({showMenu:!1})},n.enableMenu=function(){n.setState({showMenu:!0})},n.state={showMenu:!0},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",style:{minHeight:"100vh"}},r.a.createElement(f.a,null,this.state.showMenu&&r.a.createElement(E.a,{container:!0,alignItems:"flex-start",direction:"column"},r.a.createElement("aside",null,r.a.createElement(L,{isUserLogged:this.userLogged}))),r.a.createElement("header",{className:"header"},r.a.createElement(E.a,{container:!0,alignItems:"center",direction:"column",style:{minHeight:"20vh"}},r.a.createElement(x.a,{component:"h1",variant:"h2"},"SkySurf"),r.a.createElement(E.a,{container:!0,item:!0,lg:12,justify:"center",alignItems:"center"},r.a.createElement(x.a,{component:"h1",variant:"h6"},"- Your Indulgent vacation is only -")),r.a.createElement(E.a,{container:!0,item:!0,lg:12,justify:"center",alignItems:"center"},r.a.createElement(x.a,{component:"h1",variant:"h6"},"- A Few Clicks Away -")))),r.a.createElement("main",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/home",render:function(t){return r.a.createElement(F,Object.assign({},t,{isUserLogged:e.userLogged,enableMenu:e.enableMenu}))},exact:!0}),r.a.createElement(h.b,{path:"/about",render:function(t){return r.a.createElement(_,Object.assign({},t,{isUserLogged:e.userLogged,enableMenu:e.enableMenu}))},exact:!0}),r.a.createElement(h.b,{path:"/register",render:function(t){return r.a.createElement(P,Object.assign({},t,{enableMenu:e.disableMenu}))}}),r.a.createElement(h.b,{path:"/login",render:function(t){return r.a.createElement(B,Object.assign({},t,{enableMenu:e.disableMenu}))}}),r.a.createElement(h.b,{path:"/adminSpace",render:function(t){return r.a.createElement(J,Object.assign({},t,{isAdminLogged:e.adminLogged}))}}),r.a.createElement(h.b,{path:"/adminChart",render:function(t){return r.a.createElement(Y,Object.assign({},t,{isAdminLogged:e.adminLogged}))}}),r.a.createElement(h.a,{from:"/",to:"/register",exact:!0}),r.a.createElement(h.b,{component:q}))),r.a.createElement("footer",null)))}}]),a}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.cfc02b2e.chunk.js.map